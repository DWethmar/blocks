{"id":"QAJY","dependencies":[{"name":"/home/dwethmar/Projects/blocks/web/tsconfig.json","includedInParent":true,"mtime":1558787104633},{"name":"/home/dwethmar/Projects/blocks/web/.babelrc","includedInParent":true,"mtime":1558107217825},{"name":"/home/dwethmar/Projects/blocks/web/package.json","includedInParent":true,"mtime":1558785188756},{"name":"@blocks/core","loc":{"line":3,"column":21},"parent":"/home/dwethmar/Projects/blocks/web/app/chunk/chunk-utils.ts","resolved":"/home/dwethmar/Projects/blocks/web/node_modules/@blocks/core/lib/core.js"},{"name":"../config","loc":{"line":4,"column":23},"parent":"/home/dwethmar/Projects/blocks/web/app/chunk/chunk-utils.ts","resolved":"/home/dwethmar/Projects/blocks/web/app/config.ts"},{"name":"../block/block-repository","loc":{"line":5,"column":33},"parent":"/home/dwethmar/Projects/blocks/web/app/chunk/chunk-utils.ts","resolved":"/home/dwethmar/Projects/blocks/web/app/block/block-repository.ts"},{"name":"../block/block","loc":{"line":6,"column":22},"parent":"/home/dwethmar/Projects/blocks/web/app/chunk/chunk-utils.ts","resolved":"/home/dwethmar/Projects/blocks/web/app/block/block.ts"},{"name":"../block/block-type","loc":{"line":7,"column":27},"parent":"/home/dwethmar/Projects/blocks/web/app/chunk/chunk-utils.ts","resolved":"/home/dwethmar/Projects/blocks/web/app/block/block-type.ts"},{"name":"../terrain/index-utils","loc":{"line":8,"column":28},"parent":"/home/dwethmar/Projects/blocks/web/app/chunk/chunk-utils.ts","resolved":"/home/dwethmar/Projects/blocks/web/app/terrain/index-utils.ts"}],"generated":{"js":"\"use strict\";exports.__esModule=!0;var e=require(\"@blocks/core\"),o=require(\"../config\"),r=require(\"../block/block-repository\"),i=require(\"../block/block\"),n=require(\"../block/block-type\"),t=require(\"../terrain/index-utils\");function s(r,i){return e.isWithin(r,e.minusPos(t.convertPositionToChunkIndex(i),e.createPoint(1,1,1)),e.addPos(t.convertPositionToChunkIndex(i),e.createPoint(o.CHUNK_SIZE,o.CHUNK_SIZE,o.CHUNK_SIZE)))}function c(o,n){if(s(o,t.convertPositionToChunkIndex(n.position))){var u=r.getBlock(o,n.blocks);return!(u&&!i.isBlockTransparent(u))&&c(e.addPos(o,e.createPoint(0,1,1)),n)}return!0}function u(o){return Array.from(r.iterateBlocks(o.blocks)).filter(function(e){return e[1]!==n.BlockType.AIR}).reduce(function(r,i){var n=i[0];i[1];return c(e.addPos(n,e.createPoint(0,1,1)),o)&&r.push(n),r},[])}function k(o){return\"chunk-\"+e.positionId(o)}exports.isPositionWithinChunk=s,exports.isPosVisibleWithinChunk=c,exports.calculateVisibleBlocksIndexes=u,exports.getChunkId=k;"},"sourceMaps":{"js":{"mappings":[{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":68,"column":0},"generated":{"line":1,"column":0}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":68,"column":0},"generated":{"line":1,"column":13}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":68,"column":0},"generated":{"line":1,"column":21}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":68,"column":0},"generated":{"line":1,"column":33}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":35}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":39}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":41}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":49}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":65}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":67}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":75}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":88}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":90}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":98}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":127}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":129}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":137}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":155}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":157}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":165}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":188}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":190}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":198}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":224}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":10,"column":16},"generated":{"line":1,"column":233}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":11,"column":4},"generated":{"line":1,"column":235}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":12,"column":4},"generated":{"line":1,"column":237}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":14,"column":11},"generated":{"line":1,"column":240}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":14,"column":11},"generated":{"line":1,"column":247}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":14,"column":11},"generated":{"line":1,"column":249}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":15,"column":8},"generated":{"line":1,"column":258}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":16,"column":8},"generated":{"line":1,"column":260}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":16,"column":8},"generated":{"line":1,"column":262}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":16,"column":17},"generated":{"line":1,"column":271}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":16,"column":17},"generated":{"line":1,"column":273}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":16,"column":45},"generated":{"line":1,"column":301}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":16,"column":58},"generated":{"line":1,"column":304}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":16,"column":58},"generated":{"line":1,"column":306}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":16,"column":70},"generated":{"line":1,"column":318}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":16,"column":73},"generated":{"line":1,"column":320}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":16,"column":76},"generated":{"line":1,"column":322}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":17,"column":8},"generated":{"line":1,"column":326}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":17,"column":8},"generated":{"line":1,"column":328}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":18,"column":12},"generated":{"line":1,"column":335}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":18,"column":12},"generated":{"line":1,"column":337}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":18,"column":40},"generated":{"line":1,"column":365}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":19,"column":12},"generated":{"line":1,"column":368}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":19,"column":12},"generated":{"line":1,"column":370}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":19,"column":24},"generated":{"line":1,"column":382}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":19,"column":24},"generated":{"line":1,"column":384}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":19,"column":36},"generated":{"line":1,"column":395}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":19,"column":36},"generated":{"line":1,"column":397}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":19,"column":48},"generated":{"line":1,"column":408}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":19,"column":48},"generated":{"line":1,"column":410}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":424}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":24,"column":16},"generated":{"line":1,"column":433}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":25,"column":4},"generated":{"line":1,"column":435}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":26,"column":4},"generated":{"line":1,"column":437}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":29,"column":8},"generated":{"line":1,"column":440}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":29,"column":8},"generated":{"line":1,"column":443}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":30,"column":12},"generated":{"line":1,"column":445}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":31,"column":12},"generated":{"line":1,"column":447}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":31,"column":12},"generated":{"line":1,"column":449}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":31,"column":40},"generated":{"line":1,"column":477}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":31,"column":46},"generated":{"line":1,"column":479}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":33,"column":6},"generated":{"line":1,"column":490}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":34,"column":14},"generated":{"line":1,"column":491}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":34,"column":14},"generated":{"line":1,"column":495}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":34,"column":26},"generated":{"line":1,"column":497}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":34,"column":26},"generated":{"line":1,"column":499}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":34,"column":35},"generated":{"line":1,"column":508}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":34,"column":47},"generated":{"line":1,"column":510}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":34,"column":53},"generated":{"line":1,"column":512}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":35,"column":12},"generated":{"line":1,"column":520}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":35,"column":13},"generated":{"line":1,"column":528}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":35,"column":26},"generated":{"line":1,"column":532}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":35,"column":26},"generated":{"line":1,"column":534}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":35,"column":45},"generated":{"line":1,"column":553}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":36,"column":19},"generated":{"line":1,"column":558}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":37,"column":16},"generated":{"line":1,"column":560}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":37,"column":16},"generated":{"line":1,"column":562}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":37,"column":23},"generated":{"line":1,"column":569}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":37,"column":35},"generated":{"line":1,"column":571}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":37,"column":35},"generated":{"line":1,"column":573}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":37,"column":47},"generated":{"line":1,"column":585}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":37,"column":50},"generated":{"line":1,"column":587}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":37,"column":53},"generated":{"line":1,"column":589}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":38,"column":16},"generated":{"line":1,"column":593}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":44,"column":11},"generated":{"line":1,"column":596}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":44,"column":11},"generated":{"line":1,"column":603}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":47,"column":0},"generated":{"line":1,"column":605}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":47,"column":16},"generated":{"line":1,"column":614}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":47,"column":46},"generated":{"line":1,"column":616}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":48,"column":11},"generated":{"line":1,"column":619}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":48,"column":11},"generated":{"line":1,"column":626}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":48,"column":17},"generated":{"line":1,"column":632}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":48,"column":22},"generated":{"line":1,"column":637}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":48,"column":22},"generated":{"line":1,"column":639}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":48,"column":36},"generated":{"line":1,"column":653}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":48,"column":42},"generated":{"line":1,"column":655}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":49,"column":9},"generated":{"line":1,"column":664}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":50,"column":12},"generated":{"line":1,"column":671}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":50,"column":13},"generated":{"line":1,"column":680}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":51,"column":16},"generated":{"line":1,"column":683}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":50,"column":16},"generated":{"line":1,"column":690}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":50,"column":16},"generated":{"line":1,"column":692}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":51,"column":30},"generated":{"line":1,"column":697}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":51,"column":30},"generated":{"line":1,"column":699}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":51,"column":40},"generated":{"line":1,"column":709}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":53,"column":9},"generated":{"line":1,"column":715}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":54,"column":12},"generated":{"line":1,"column":722}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":54,"column":13},"generated":{"line":1,"column":731}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":54,"column":27},"generated":{"line":1,"column":733}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":54,"column":28},"generated":{"line":1,"column":736}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":54,"column":28},"generated":{"line":1,"column":740}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":54,"column":28},"generated":{"line":1,"column":742}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":54,"column":28},"generated":{"line":1,"column":744}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":54,"column":40},"generated":{"line":1,"column":747}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":54,"column":40},"generated":{"line":1,"column":749}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":62,"column":23},"generated":{"line":1,"column":752}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":59,"column":20},"generated":{"line":1,"column":759}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":55,"column":41},"generated":{"line":1,"column":761}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":55,"column":41},"generated":{"line":1,"column":763}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":1,"column":770}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":57,"column":20},"generated":{"line":1,"column":772}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":57,"column":20},"generated":{"line":1,"column":774}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":57,"column":32},"generated":{"line":1,"column":786}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":57,"column":35},"generated":{"line":1,"column":788}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":57,"column":38},"generated":{"line":1,"column":790}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":59,"column":62},"generated":{"line":1,"column":794}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":60,"column":20},"generated":{"line":1,"column":798}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":60,"column":33},"generated":{"line":1,"column":800}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":60,"column":38},"generated":{"line":1,"column":805}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":62,"column":23},"generated":{"line":1,"column":808}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":64,"column":12},"generated":{"line":1,"column":811}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":68,"column":0},"generated":{"line":1,"column":815}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":68,"column":16},"generated":{"line":1,"column":824}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":68,"column":27},"generated":{"line":1,"column":826}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":69,"column":11},"generated":{"line":1,"column":829}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":69,"column":11},"generated":{"line":1,"column":835}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":69,"column":20},"generated":{"line":1,"column":844}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":69,"column":20},"generated":{"line":1,"column":846}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":69,"column":31},"generated":{"line":1,"column":857}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":860}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":868}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":890}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":892}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":900}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":924}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":47,"column":0},"generated":{"line":1,"column":926}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":47,"column":0},"generated":{"line":1,"column":934}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":47,"column":0},"generated":{"line":1,"column":964}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":68,"column":0},"generated":{"line":1,"column":966}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":68,"column":0},"generated":{"line":1,"column":974}},{"source":"app/chunk/chunk-utils.ts","name":null,"original":{"line":68,"column":0},"generated":{"line":1,"column":985}}],"sources":{"app/chunk/chunk-utils.ts":"import { Point3D, createPoint, isWithin, minusPos, addPos, positionId  } from '@blocks/core';\r\n\r\nimport { Chunk } from './chunk';\r\nimport { CHUNK_SIZE } from '../config';\r\nimport { getBlock, iterateBlocks } from '../block/block-repository';\r\nimport { isBlockTransparent } from '../block/block';\r\nimport { BlockType } from '../block/block-type';\r\nimport { convertPositionToChunkIndex } from '../terrain/index-utils';\r\n\r\nexport function isPositionWithinChunk(\r\n    localIndex: Point3D,\r\n    chunkIndex: Point3D,\r\n): boolean {\r\n    return isWithin(\r\n        localIndex,\r\n        minusPos(convertPositionToChunkIndex(chunkIndex), createPoint(1, 1, 1)),\r\n        addPos(\r\n            convertPositionToChunkIndex(chunkIndex),\r\n            createPoint(CHUNK_SIZE, CHUNK_SIZE, CHUNK_SIZE),\r\n        ),\r\n    );\r\n}\r\n\r\nexport function isPosVisibleWithinChunk(\r\n    localIndex: Point3D,\r\n    chunk: Chunk,\r\n): boolean {\r\n    if (\r\n        isPositionWithinChunk(\r\n            localIndex,\r\n            convertPositionToChunkIndex(chunk.position),\r\n        )\r\n    ) {\r\n        const blockType = getBlock(localIndex, chunk.blocks);\r\n        if (!blockType || isBlockTransparent(blockType)) {\r\n            return isPosVisibleWithinChunk(\r\n                addPos(localIndex, createPoint(0, 1, 1)),\r\n                chunk,\r\n            );\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\nexport function calculateVisibleBlocksIndexes(chunk: Chunk): Point3D[] {\r\n    return Array.from(iterateBlocks(chunk.blocks))\r\n        .filter(\r\n            ([, blockType]: [Point3D, BlockType]) =>\r\n                blockType !== BlockType.AIR,\r\n        )\r\n        .reduce<Point3D[]>(\r\n            (localIndexes, [localIndex, blockType]: [Point3D, BlockType]) => {\r\n                const nextIndexInChunk = addPos(\r\n                    localIndex,\r\n                    createPoint(0, 1, 1),\r\n                );\r\n                if (isPosVisibleWithinChunk(nextIndexInChunk, chunk)) {\r\n                    localIndexes.push(localIndex);\r\n                }\r\n                return localIndexes;\r\n            },\r\n            [],\r\n        );\r\n}\r\n\r\nexport function getChunkId(chunkIndex: Point3D): string {\r\n    return `chunk-${positionId(chunkIndex)}`;\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"133d8ae131ec8175813ca1dcea4f6a19","cacheData":{"env":{}}}