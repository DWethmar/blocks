{"id":"sL21","dependencies":[{"name":"/home/dwethmar/Projects/blocks/web/package.json","includedInParent":true,"mtime":1558785188756},{"name":"/home/dwethmar/Projects/blocks/web/.babelrc","includedInParent":true,"mtime":1558107217825},{"name":"/home/dwethmar/Projects/blocks/web/node_modules/pixi-viewport/package.json","includedInParent":true,"mtime":1558785220842},{"name":"/home/dwethmar/Projects/blocks/web/node_modules/pixi-viewport/.babelrc","includedInParent":true,"mtime":1515648924000},{"name":"./plugin","loc":{"line":11,"column":21},"parent":"/home/dwethmar/Projects/blocks/web/node_modules/pixi-viewport/dist/follow.js","resolved":"/home/dwethmar/Projects/blocks/web/node_modules/pixi-viewport/dist/plugin.js"}],"generated":{"js":"\"use strict\";var t=function(){function t(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,a,i){return a&&t(e.prototype,a),i&&t(e,i),e}}();function e(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function a(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}function i(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var r=require(\"./plugin\");module.exports=function(s){function o(t,i,r){e(this,o);var s=a(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,t));return r=r||{},s.speed=r.speed||0,s.acceleration=r.acceleration||0,s.velocity={x:0,y:0},s.target=i,s.radius=r.radius,s}return i(o,r),t(o,[{key:\"update\",value:function(t){if(!this.paused){var e=this.parent.center,a=this.target.x,i=this.target.y;if(this.radius){if(!(Math.sqrt(Math.pow(this.target.y-e.y,2)+Math.pow(this.target.x-e.x,2))>this.radius))return;var r=Math.atan2(this.target.y-e.y,this.target.x-e.x);a=this.target.x-Math.cos(r)*this.radius,i=this.target.y-Math.sin(r)*this.radius}var s=a-e.x,o=i-e.y;if(s||o)if(this.speed)if(this.acceleration){var n=Math.atan2(i-e.y,a-e.x),h=Math.sqrt(Math.pow(s,2)+Math.pow(o,2));if(h){var c=(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.acceleration);this.velocity=h>c?{x:Math.min(this.velocity.x+this.acceleration*t,this.speed),y:Math.min(this.velocity.y+this.acceleration*t,this.speed)}:{x:Math.max(this.velocity.x-this.acceleration*this.speed,0),y:Math.max(this.velocity.y-this.acceleration*this.speed,0)};var p=Math.cos(n)*this.velocity.x,l=Math.sin(n)*this.velocity.y,y=Math.abs(p)>Math.abs(s)?a:e.x+p,u=Math.abs(l)>Math.abs(o)?i:e.y+l;this.parent.moveCenter(y,u),this.parent.emit(\"moved\",{viewport:this.parent,type:\"follow\"})}}else{var f=Math.atan2(i-e.y,a-e.x),v=Math.cos(f)*this.speed,M=Math.sin(f)*this.speed,b=Math.abs(v)>Math.abs(s)?a:e.x+v,d=Math.abs(M)>Math.abs(o)?i:e.y+M;this.parent.moveCenter(b,d),this.parent.emit(\"moved\",{viewport:this.parent,type:\"follow\"})}else this.parent.moveCenter(a,i),this.parent.emit(\"moved\",{viewport:this.parent,type:\"follow\"})}}}]),o}();"},"sourceMaps":{"js":{"mappings":[{"source":"../src/follow.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":834}},{"source":"../src/follow.js","name":"Plugin","original":{"line":1,"column":6},"generated":{"line":1,"column":838}},{"source":"../src/follow.js","name":"require","original":{"line":1,"column":15},"generated":{"line":1,"column":840}},{"source":"../src/follow.js","name":null,"original":{"line":1,"column":23},"generated":{"line":1,"column":848}},{"source":"../src/follow.js","name":"module","original":{"line":3,"column":0},"generated":{"line":1,"column":860}},{"source":"../src/follow.js","name":"exports","original":{"line":3,"column":7},"generated":{"line":1,"column":867}},{"source":"../src/follow.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":875}},{"source":"../src/follow.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":884}},{"source":"../src/follow.js","name":null,"original":{"line":14,"column":4},"generated":{"line":1,"column":887}},{"source":"../src/follow.js","name":null,"original":{"line":14,"column":4},"generated":{"line":1,"column":896}},{"source":"../src/follow.js","name":"parent","original":{"line":14,"column":16},"generated":{"line":1,"column":898}},{"source":"../src/follow.js","name":"target","original":{"line":14,"column":24},"generated":{"line":1,"column":900}},{"source":"../src/follow.js","name":"options","original":{"line":14,"column":32},"generated":{"line":1,"column":902}},{"source":"../src/follow.js","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":905}},{"source":"../src/follow.js","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":907}},{"source":"../src/follow.js","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":912}},{"source":"../src/follow.js","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":915}},{"source":"../src/follow.js","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":919}},{"source":"../src/follow.js","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":921}},{"source":"../src/follow.js","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":923}},{"source":"../src/follow.js","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":929}},{"source":"../src/follow.js","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":931}},{"source":"../src/follow.js","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":942}},{"source":"../src/follow.js","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":949}},{"source":"../src/follow.js","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":964}},{"source":"../src/follow.js","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":968}},{"source":"../src/follow.js","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":973}},{"source":"../src/follow.js","name":"parent","original":{"line":16,"column":14},"generated":{"line":1,"column":978}},{"source":"../src/follow.js","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":982}},{"source":"../src/follow.js","name":"options","original":{"line":17,"column":8},"generated":{"line":1,"column":989}},{"source":"../src/follow.js","name":"options","original":{"line":17,"column":18},"generated":{"line":1,"column":991}},{"source":"../src/follow.js","name":null,"original":{"line":17,"column":29},"generated":{"line":1,"column":994}},{"source":"../src/follow.js","name":null,"original":{"line":18,"column":8},"generated":{"line":1,"column":997}},{"source":"../src/follow.js","name":"speed","original":{"line":18,"column":13},"generated":{"line":1,"column":999}},{"source":"../src/follow.js","name":"options","original":{"line":18,"column":21},"generated":{"line":1,"column":1005}},{"source":"../src/follow.js","name":"speed","original":{"line":18,"column":29},"generated":{"line":1,"column":1007}},{"source":"../src/follow.js","name":null,"original":{"line":18,"column":38},"generated":{"line":1,"column":1014}},{"source":"../src/follow.js","name":null,"original":{"line":19,"column":8},"generated":{"line":1,"column":1016}},{"source":"../src/follow.js","name":"acceleration","original":{"line":19,"column":13},"generated":{"line":1,"column":1018}},{"source":"../src/follow.js","name":"options","original":{"line":19,"column":28},"generated":{"line":1,"column":1031}},{"source":"../src/follow.js","name":"acceleration","original":{"line":19,"column":36},"generated":{"line":1,"column":1033}},{"source":"../src/follow.js","name":null,"original":{"line":19,"column":52},"generated":{"line":1,"column":1047}},{"source":"../src/follow.js","name":null,"original":{"line":20,"column":8},"generated":{"line":1,"column":1049}},{"source":"../src/follow.js","name":"velocity","original":{"line":20,"column":13},"generated":{"line":1,"column":1051}},{"source":"../src/follow.js","name":null,"original":{"line":20,"column":24},"generated":{"line":1,"column":1060}},{"source":"../src/follow.js","name":"x","original":{"line":20,"column":26},"generated":{"line":1,"column":1061}},{"source":"../src/follow.js","name":null,"original":{"line":20,"column":29},"generated":{"line":1,"column":1063}},{"source":"../src/follow.js","name":"y","original":{"line":20,"column":32},"generated":{"line":1,"column":1065}},{"source":"../src/follow.js","name":null,"original":{"line":20,"column":35},"generated":{"line":1,"column":1067}},{"source":"../src/follow.js","name":null,"original":{"line":21,"column":8},"generated":{"line":1,"column":1070}},{"source":"../src/follow.js","name":"target","original":{"line":21,"column":13},"generated":{"line":1,"column":1072}},{"source":"../src/follow.js","name":"target","original":{"line":21,"column":22},"generated":{"line":1,"column":1079}},{"source":"../src/follow.js","name":null,"original":{"line":22,"column":8},"generated":{"line":1,"column":1081}},{"source":"../src/follow.js","name":"radius","original":{"line":22,"column":13},"generated":{"line":1,"column":1083}},{"source":"../src/follow.js","name":"options","original":{"line":22,"column":22},"generated":{"line":1,"column":1090}},{"source":"../src/follow.js","name":"radius","original":{"line":22,"column":30},"generated":{"line":1,"column":1092}},{"source":"../src/follow.js","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":1099}},{"source":"../src/follow.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":1101}},{"source":"../src/follow.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":1108}},{"source":"../src/follow.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":1110}},{"source":"../src/follow.js","name":"Plugin","original":{"line":3,"column":38},"generated":{"line":1,"column":1112}},{"source":"../src/follow.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":1115}},{"source":"../src/follow.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":1117}},{"source":"../src/follow.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":1119}},{"source":"../src/follow.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":1120}},{"source":"../src/follow.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":1121}},{"source":"../src/follow.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":1125}},{"source":"../src/follow.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":1134}},{"source":"../src/follow.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":1140}},{"source":"../src/follow.js","name":"elapsed","original":{"line":25,"column":11},"generated":{"line":1,"column":1149}},{"source":"../src/follow.js","name":null,"original":{"line":27,"column":8},"generated":{"line":1,"column":1152}},{"source":"../src/follow.js","name":null,"original":{"line":27,"column":12},"generated":{"line":1,"column":1156}},{"source":"../src/follow.js","name":"paused","original":{"line":27,"column":17},"generated":{"line":1,"column":1161}},{"source":"../src/follow.js","name":null,"original":{"line":27,"column":8},"generated":{"line":1,"column":1168}},{"source":"../src/follow.js","name":null,"original":{"line":32,"column":8},"generated":{"line":1,"column":1169}},{"source":"../src/follow.js","name":"center","original":{"line":32,"column":14},"generated":{"line":1,"column":1173}},{"source":"../src/follow.js","name":null,"original":{"line":32,"column":23},"generated":{"line":1,"column":1175}},{"source":"../src/follow.js","name":"parent","original":{"line":32,"column":28},"generated":{"line":1,"column":1180}},{"source":"../src/follow.js","name":"center","original":{"line":32,"column":35},"generated":{"line":1,"column":1187}},{"source":"../src/follow.js","name":"toX","original":{"line":33,"column":12},"generated":{"line":1,"column":1194}},{"source":"../src/follow.js","name":null,"original":{"line":33,"column":18},"generated":{"line":1,"column":1196}},{"source":"../src/follow.js","name":"target","original":{"line":33,"column":23},"generated":{"line":1,"column":1201}},{"source":"../src/follow.js","name":"x","original":{"line":33,"column":30},"generated":{"line":1,"column":1208}},{"source":"../src/follow.js","name":"toY","original":{"line":33,"column":33},"generated":{"line":1,"column":1210}},{"source":"../src/follow.js","name":null,"original":{"line":33,"column":39},"generated":{"line":1,"column":1212}},{"source":"../src/follow.js","name":"target","original":{"line":33,"column":44},"generated":{"line":1,"column":1217}},{"source":"../src/follow.js","name":"y","original":{"line":33,"column":51},"generated":{"line":1,"column":1224}},{"source":"../src/follow.js","name":null,"original":{"line":34,"column":8},"generated":{"line":1,"column":1226}},{"source":"../src/follow.js","name":null,"original":{"line":34,"column":12},"generated":{"line":1,"column":1229}},{"source":"../src/follow.js","name":"radius","original":{"line":34,"column":17},"generated":{"line":1,"column":1234}},{"source":"../src/follow.js","name":null,"original":{"line":35,"column":8},"generated":{"line":1,"column":1241}},{"source":"../src/follow.js","name":null,"original":{"line":37,"column":12},"generated":{"line":1,"column":1242}},{"source":"../src/follow.js","name":"Math","original":{"line":36,"column":29},"generated":{"line":1,"column":1247}},{"source":"../src/follow.js","name":"sqrt","original":{"line":36,"column":34},"generated":{"line":1,"column":1252}},{"source":"../src/follow.js","name":"Math","original":{"line":36,"column":39},"generated":{"line":1,"column":1257}},{"source":"../src/follow.js","name":"pow","original":{"line":36,"column":44},"generated":{"line":1,"column":1262}},{"source":"../src/follow.js","name":null,"original":{"line":36,"column":48},"generated":{"line":1,"column":1266}},{"source":"../src/follow.js","name":"target","original":{"line":36,"column":53},"generated":{"line":1,"column":1271}},{"source":"../src/follow.js","name":"y","original":{"line":36,"column":60},"generated":{"line":1,"column":1278}},{"source":"../src/follow.js","name":"center","original":{"line":36,"column":64},"generated":{"line":1,"column":1280}},{"source":"../src/follow.js","name":"y","original":{"line":36,"column":71},"generated":{"line":1,"column":1282}},{"source":"../src/follow.js","name":null,"original":{"line":36,"column":74},"generated":{"line":1,"column":1284}},{"source":"../src/follow.js","name":"Math","original":{"line":36,"column":79},"generated":{"line":1,"column":1287}},{"source":"../src/follow.js","name":"pow","original":{"line":36,"column":84},"generated":{"line":1,"column":1292}},{"source":"../src/follow.js","name":null,"original":{"line":36,"column":88},"generated":{"line":1,"column":1296}},{"source":"../src/follow.js","name":"target","original":{"line":36,"column":93},"generated":{"line":1,"column":1301}},{"source":"../src/follow.js","name":"x","original":{"line":36,"column":100},"generated":{"line":1,"column":1308}},{"source":"../src/follow.js","name":"center","original":{"line":36,"column":104},"generated":{"line":1,"column":1310}},{"source":"../src/follow.js","name":"x","original":{"line":36,"column":111},"generated":{"line":1,"column":1312}},{"source":"../src/follow.js","name":null,"original":{"line":36,"column":114},"generated":{"line":1,"column":1314}},{"source":"../src/follow.js","name":null,"original":{"line":37,"column":27},"generated":{"line":1,"column":1318}},{"source":"../src/follow.js","name":"radius","original":{"line":37,"column":32},"generated":{"line":1,"column":1323}},{"source":"../src/follow.js","name":null,"original":{"line":45,"column":16},"generated":{"line":1,"column":1331}},{"source":"../src/follow.js","name":null,"original":{"line":39,"column":16},"generated":{"line":1,"column":1338}},{"source":"../src/follow.js","name":"angle","original":{"line":39,"column":22},"generated":{"line":1,"column":1342}},{"source":"../src/follow.js","name":"Math","original":{"line":39,"column":30},"generated":{"line":1,"column":1344}},{"source":"../src/follow.js","name":"atan2","original":{"line":39,"column":35},"generated":{"line":1,"column":1349}},{"source":"../src/follow.js","name":null,"original":{"line":39,"column":41},"generated":{"line":1,"column":1355}},{"source":"../src/follow.js","name":"target","original":{"line":39,"column":46},"generated":{"line":1,"column":1360}},{"source":"../src/follow.js","name":"y","original":{"line":39,"column":53},"generated":{"line":1,"column":1367}},{"source":"../src/follow.js","name":"center","original":{"line":39,"column":57},"generated":{"line":1,"column":1369}},{"source":"../src/follow.js","name":"y","original":{"line":39,"column":64},"generated":{"line":1,"column":1371}},{"source":"../src/follow.js","name":null,"original":{"line":39,"column":67},"generated":{"line":1,"column":1373}},{"source":"../src/follow.js","name":"target","original":{"line":39,"column":72},"generated":{"line":1,"column":1378}},{"source":"../src/follow.js","name":"x","original":{"line":39,"column":79},"generated":{"line":1,"column":1385}},{"source":"../src/follow.js","name":"center","original":{"line":39,"column":83},"generated":{"line":1,"column":1387}},{"source":"../src/follow.js","name":"x","original":{"line":39,"column":90},"generated":{"line":1,"column":1389}},{"source":"../src/follow.js","name":"toX","original":{"line":40,"column":16},"generated":{"line":1,"column":1392}},{"source":"../src/follow.js","name":null,"original":{"line":40,"column":22},"generated":{"line":1,"column":1394}},{"source":"../src/follow.js","name":"target","original":{"line":40,"column":27},"generated":{"line":1,"column":1399}},{"source":"../src/follow.js","name":"x","original":{"line":40,"column":34},"generated":{"line":1,"column":1406}},{"source":"../src/follow.js","name":"Math","original":{"line":40,"column":38},"generated":{"line":1,"column":1408}},{"source":"../src/follow.js","name":"cos","original":{"line":40,"column":43},"generated":{"line":1,"column":1413}},{"source":"../src/follow.js","name":"angle","original":{"line":40,"column":47},"generated":{"line":1,"column":1417}},{"source":"../src/follow.js","name":null,"original":{"line":40,"column":56},"generated":{"line":1,"column":1420}},{"source":"../src/follow.js","name":"radius","original":{"line":40,"column":61},"generated":{"line":1,"column":1425}},{"source":"../src/follow.js","name":"toY","original":{"line":41,"column":16},"generated":{"line":1,"column":1432}},{"source":"../src/follow.js","name":null,"original":{"line":41,"column":22},"generated":{"line":1,"column":1434}},{"source":"../src/follow.js","name":"target","original":{"line":41,"column":27},"generated":{"line":1,"column":1439}},{"source":"../src/follow.js","name":"y","original":{"line":41,"column":34},"generated":{"line":1,"column":1446}},{"source":"../src/follow.js","name":"Math","original":{"line":41,"column":38},"generated":{"line":1,"column":1448}},{"source":"../src/follow.js","name":"sin","original":{"line":41,"column":43},"generated":{"line":1,"column":1453}},{"source":"../src/follow.js","name":"angle","original":{"line":41,"column":47},"generated":{"line":1,"column":1457}},{"source":"../src/follow.js","name":null,"original":{"line":41,"column":56},"generated":{"line":1,"column":1460}},{"source":"../src/follow.js","name":"radius","original":{"line":41,"column":61},"generated":{"line":1,"column":1465}},{"source":"../src/follow.js","name":null,"original":{"line":48,"column":8},"generated":{"line":1,"column":1472}},{"source":"../src/follow.js","name":"deltaX","original":{"line":48,"column":14},"generated":{"line":1,"column":1476}},{"source":"../src/follow.js","name":"toX","original":{"line":48,"column":23},"generated":{"line":1,"column":1478}},{"source":"../src/follow.js","name":"center","original":{"line":48,"column":29},"generated":{"line":1,"column":1480}},{"source":"../src/follow.js","name":"x","original":{"line":48,"column":36},"generated":{"line":1,"column":1482}},{"source":"../src/follow.js","name":"deltaY","original":{"line":49,"column":14},"generated":{"line":1,"column":1484}},{"source":"../src/follow.js","name":"toY","original":{"line":49,"column":23},"generated":{"line":1,"column":1486}},{"source":"../src/follow.js","name":"center","original":{"line":49,"column":29},"generated":{"line":1,"column":1488}},{"source":"../src/follow.js","name":"y","original":{"line":49,"column":36},"generated":{"line":1,"column":1490}},{"source":"../src/follow.js","name":null,"original":{"line":50,"column":8},"generated":{"line":1,"column":1492}},{"source":"../src/follow.js","name":"deltaX","original":{"line":50,"column":12},"generated":{"line":1,"column":1495}},{"source":"../src/follow.js","name":"deltaY","original":{"line":50,"column":22},"generated":{"line":1,"column":1498}},{"source":"../src/follow.js","name":null,"original":{"line":52,"column":12},"generated":{"line":1,"column":1500}},{"source":"../src/follow.js","name":null,"original":{"line":52,"column":16},"generated":{"line":1,"column":1503}},{"source":"../src/follow.js","name":"speed","original":{"line":52,"column":21},"generated":{"line":1,"column":1508}},{"source":"../src/follow.js","name":null,"original":{"line":54,"column":16},"generated":{"line":1,"column":1514}},{"source":"../src/follow.js","name":null,"original":{"line":54,"column":20},"generated":{"line":1,"column":1517}},{"source":"../src/follow.js","name":"acceleration","original":{"line":54,"column":25},"generated":{"line":1,"column":1522}},{"source":"../src/follow.js","name":null,"original":{"line":55,"column":16},"generated":{"line":1,"column":1535}},{"source":"../src/follow.js","name":null,"original":{"line":56,"column":20},"generated":{"line":1,"column":1536}},{"source":"../src/follow.js","name":"angle","original":{"line":56,"column":26},"generated":{"line":1,"column":1540}},{"source":"../src/follow.js","name":"Math","original":{"line":56,"column":34},"generated":{"line":1,"column":1542}},{"source":"../src/follow.js","name":"atan2","original":{"line":56,"column":39},"generated":{"line":1,"column":1547}},{"source":"../src/follow.js","name":"toY","original":{"line":56,"column":45},"generated":{"line":1,"column":1553}},{"source":"../src/follow.js","name":"center","original":{"line":56,"column":51},"generated":{"line":1,"column":1555}},{"source":"../src/follow.js","name":"y","original":{"line":56,"column":58},"generated":{"line":1,"column":1557}},{"source":"../src/follow.js","name":"toX","original":{"line":56,"column":61},"generated":{"line":1,"column":1559}},{"source":"../src/follow.js","name":"center","original":{"line":56,"column":67},"generated":{"line":1,"column":1561}},{"source":"../src/follow.js","name":"x","original":{"line":56,"column":74},"generated":{"line":1,"column":1563}},{"source":"../src/follow.js","name":"distance","original":{"line":57,"column":26},"generated":{"line":1,"column":1566}},{"source":"../src/follow.js","name":"Math","original":{"line":57,"column":37},"generated":{"line":1,"column":1568}},{"source":"../src/follow.js","name":"sqrt","original":{"line":57,"column":42},"generated":{"line":1,"column":1573}},{"source":"../src/follow.js","name":"Math","original":{"line":57,"column":47},"generated":{"line":1,"column":1578}},{"source":"../src/follow.js","name":"pow","original":{"line":57,"column":52},"generated":{"line":1,"column":1583}},{"source":"../src/follow.js","name":"deltaX","original":{"line":57,"column":56},"generated":{"line":1,"column":1587}},{"source":"../src/follow.js","name":null,"original":{"line":57,"column":64},"generated":{"line":1,"column":1589}},{"source":"../src/follow.js","name":"Math","original":{"line":57,"column":69},"generated":{"line":1,"column":1592}},{"source":"../src/follow.js","name":"pow","original":{"line":57,"column":74},"generated":{"line":1,"column":1597}},{"source":"../src/follow.js","name":"deltaY","original":{"line":57,"column":78},"generated":{"line":1,"column":1601}},{"source":"../src/follow.js","name":null,"original":{"line":57,"column":86},"generated":{"line":1,"column":1603}},{"source":"../src/follow.js","name":null,"original":{"line":58,"column":20},"generated":{"line":1,"column":1607}},{"source":"../src/follow.js","name":"distance","original":{"line":58,"column":24},"generated":{"line":1,"column":1610}},{"source":"../src/follow.js","name":null,"original":{"line":59,"column":20},"generated":{"line":1,"column":1612}},{"source":"../src/follow.js","name":null,"original":{"line":60,"column":24},"generated":{"line":1,"column":1613}},{"source":"../src/follow.js","name":"decelerationDistance","original":{"line":60,"column":30},"generated":{"line":1,"column":1617}},{"source":"../src/follow.js","name":"Math","original":{"line":60,"column":54},"generated":{"line":1,"column":1620}},{"source":"../src/follow.js","name":"pow","original":{"line":60,"column":59},"generated":{"line":1,"column":1625}},{"source":"../src/follow.js","name":null,"original":{"line":60,"column":63},"generated":{"line":1,"column":1629}},{"source":"../src/follow.js","name":"velocity","original":{"line":60,"column":68},"generated":{"line":1,"column":1634}},{"source":"../src/follow.js","name":"x","original":{"line":60,"column":77},"generated":{"line":1,"column":1643}},{"source":"../src/follow.js","name":null,"original":{"line":60,"column":80},"generated":{"line":1,"column":1645}},{"source":"../src/follow.js","name":"Math","original":{"line":60,"column":85},"generated":{"line":1,"column":1648}},{"source":"../src/follow.js","name":"pow","original":{"line":60,"column":90},"generated":{"line":1,"column":1653}},{"source":"../src/follow.js","name":null,"original":{"line":60,"column":94},"generated":{"line":1,"column":1657}},{"source":"../src/follow.js","name":"velocity","original":{"line":60,"column":99},"generated":{"line":1,"column":1662}},{"source":"../src/follow.js","name":"y","original":{"line":60,"column":108},"generated":{"line":1,"column":1671}},{"source":"../src/follow.js","name":null,"original":{"line":60,"column":111},"generated":{"line":1,"column":1673}},{"source":"../src/follow.js","name":null,"original":{"line":60,"column":118},"generated":{"line":1,"column":1678}},{"source":"../src/follow.js","name":null,"original":{"line":60,"column":122},"generated":{"line":1,"column":1680}},{"source":"../src/follow.js","name":"acceleration","original":{"line":60,"column":127},"generated":{"line":1,"column":1685}},{"source":"../src/follow.js","name":null,"original":{"line":63,"column":28},"generated":{"line":1,"column":1699}},{"source":"../src/follow.js","name":"velocity","original":{"line":63,"column":33},"generated":{"line":1,"column":1704}},{"source":"../src/follow.js","name":"distance","original":{"line":61,"column":28},"generated":{"line":1,"column":1713}},{"source":"../src/follow.js","name":"decelerationDistance","original":{"line":61,"column":39},"generated":{"line":1,"column":1715}},{"source":"../src/follow.js","name":null,"original":{"line":63,"column":44},"generated":{"line":1,"column":1717}},{"source":"../src/follow.js","name":"x","original":{"line":64,"column":32},"generated":{"line":1,"column":1718}},{"source":"../src/follow.js","name":"Math","original":{"line":64,"column":35},"generated":{"line":1,"column":1720}},{"source":"../src/follow.js","name":"min","original":{"line":64,"column":40},"generated":{"line":1,"column":1725}},{"source":"../src/follow.js","name":null,"original":{"line":64,"column":44},"generated":{"line":1,"column":1729}},{"source":"../src/follow.js","name":"velocity","original":{"line":64,"column":49},"generated":{"line":1,"column":1734}},{"source":"../src/follow.js","name":"x","original":{"line":64,"column":58},"generated":{"line":1,"column":1743}},{"source":"../src/follow.js","name":null,"original":{"line":64,"column":62},"generated":{"line":1,"column":1745}},{"source":"../src/follow.js","name":"acceleration","original":{"line":64,"column":67},"generated":{"line":1,"column":1750}},{"source":"../src/follow.js","name":"elapsed","original":{"line":64,"column":82},"generated":{"line":1,"column":1763}},{"source":"../src/follow.js","name":null,"original":{"line":64,"column":91},"generated":{"line":1,"column":1765}},{"source":"../src/follow.js","name":"speed","original":{"line":64,"column":96},"generated":{"line":1,"column":1770}},{"source":"../src/follow.js","name":"y","original":{"line":65,"column":32},"generated":{"line":1,"column":1777}},{"source":"../src/follow.js","name":"Math","original":{"line":65,"column":35},"generated":{"line":1,"column":1779}},{"source":"../src/follow.js","name":"min","original":{"line":65,"column":40},"generated":{"line":1,"column":1784}},{"source":"../src/follow.js","name":null,"original":{"line":65,"column":44},"generated":{"line":1,"column":1788}},{"source":"../src/follow.js","name":"velocity","original":{"line":65,"column":49},"generated":{"line":1,"column":1793}},{"source":"../src/follow.js","name":"y","original":{"line":65,"column":58},"generated":{"line":1,"column":1802}},{"source":"../src/follow.js","name":null,"original":{"line":65,"column":62},"generated":{"line":1,"column":1804}},{"source":"../src/follow.js","name":"acceleration","original":{"line":65,"column":67},"generated":{"line":1,"column":1809}},{"source":"../src/follow.js","name":"elapsed","original":{"line":65,"column":82},"generated":{"line":1,"column":1822}},{"source":"../src/follow.js","name":null,"original":{"line":65,"column":91},"generated":{"line":1,"column":1824}},{"source":"../src/follow.js","name":"speed","original":{"line":65,"column":96},"generated":{"line":1,"column":1829}},{"source":"../src/follow.js","name":null,"original":{"line":70,"column":44},"generated":{"line":1,"column":1837}},{"source":"../src/follow.js","name":"x","original":{"line":71,"column":32},"generated":{"line":1,"column":1838}},{"source":"../src/follow.js","name":"Math","original":{"line":71,"column":35},"generated":{"line":1,"column":1840}},{"source":"../src/follow.js","name":"max","original":{"line":71,"column":40},"generated":{"line":1,"column":1845}},{"source":"../src/follow.js","name":null,"original":{"line":71,"column":44},"generated":{"line":1,"column":1849}},{"source":"../src/follow.js","name":"velocity","original":{"line":71,"column":49},"generated":{"line":1,"column":1854}},{"source":"../src/follow.js","name":"x","original":{"line":71,"column":58},"generated":{"line":1,"column":1863}},{"source":"../src/follow.js","name":null,"original":{"line":71,"column":62},"generated":{"line":1,"column":1865}},{"source":"../src/follow.js","name":"acceleration","original":{"line":71,"column":67},"generated":{"line":1,"column":1870}},{"source":"../src/follow.js","name":null,"original":{"line":71,"column":82},"generated":{"line":1,"column":1883}},{"source":"../src/follow.js","name":"speed","original":{"line":71,"column":87},"generated":{"line":1,"column":1888}},{"source":"../src/follow.js","name":null,"original":{"line":71,"column":94},"generated":{"line":1,"column":1894}},{"source":"../src/follow.js","name":"y","original":{"line":72,"column":32},"generated":{"line":1,"column":1897}},{"source":"../src/follow.js","name":"Math","original":{"line":72,"column":35},"generated":{"line":1,"column":1899}},{"source":"../src/follow.js","name":"max","original":{"line":72,"column":40},"generated":{"line":1,"column":1904}},{"source":"../src/follow.js","name":null,"original":{"line":72,"column":44},"generated":{"line":1,"column":1908}},{"source":"../src/follow.js","name":"velocity","original":{"line":72,"column":49},"generated":{"line":1,"column":1913}},{"source":"../src/follow.js","name":"y","original":{"line":72,"column":58},"generated":{"line":1,"column":1922}},{"source":"../src/follow.js","name":null,"original":{"line":72,"column":62},"generated":{"line":1,"column":1924}},{"source":"../src/follow.js","name":"acceleration","original":{"line":72,"column":67},"generated":{"line":1,"column":1929}},{"source":"../src/follow.js","name":null,"original":{"line":72,"column":82},"generated":{"line":1,"column":1942}},{"source":"../src/follow.js","name":"speed","original":{"line":72,"column":87},"generated":{"line":1,"column":1947}},{"source":"../src/follow.js","name":null,"original":{"line":72,"column":94},"generated":{"line":1,"column":1953}},{"source":"../src/follow.js","name":null,"original":{"line":75,"column":24},"generated":{"line":1,"column":1957}},{"source":"../src/follow.js","name":"changeX","original":{"line":75,"column":30},"generated":{"line":1,"column":1961}},{"source":"../src/follow.js","name":"Math","original":{"line":75,"column":40},"generated":{"line":1,"column":1963}},{"source":"../src/follow.js","name":"cos","original":{"line":75,"column":45},"generated":{"line":1,"column":1968}},{"source":"../src/follow.js","name":"angle","original":{"line":75,"column":49},"generated":{"line":1,"column":1972}},{"source":"../src/follow.js","name":null,"original":{"line":75,"column":58},"generated":{"line":1,"column":1975}},{"source":"../src/follow.js","name":"velocity","original":{"line":75,"column":63},"generated":{"line":1,"column":1980}},{"source":"../src/follow.js","name":"x","original":{"line":75,"column":72},"generated":{"line":1,"column":1989}},{"source":"../src/follow.js","name":"changeY","original":{"line":76,"column":30},"generated":{"line":1,"column":1991}},{"source":"../src/follow.js","name":"Math","original":{"line":76,"column":40},"generated":{"line":1,"column":1993}},{"source":"../src/follow.js","name":"sin","original":{"line":76,"column":45},"generated":{"line":1,"column":1998}},{"source":"../src/follow.js","name":"angle","original":{"line":76,"column":49},"generated":{"line":1,"column":2002}},{"source":"../src/follow.js","name":null,"original":{"line":76,"column":58},"generated":{"line":1,"column":2005}},{"source":"../src/follow.js","name":"velocity","original":{"line":76,"column":63},"generated":{"line":1,"column":2010}},{"source":"../src/follow.js","name":"y","original":{"line":76,"column":72},"generated":{"line":1,"column":2019}},{"source":"../src/follow.js","name":"x","original":{"line":77,"column":30},"generated":{"line":1,"column":2021}},{"source":"../src/follow.js","name":"Math","original":{"line":77,"column":34},"generated":{"line":1,"column":2023}},{"source":"../src/follow.js","name":"abs","original":{"line":77,"column":39},"generated":{"line":1,"column":2028}},{"source":"../src/follow.js","name":"changeX","original":{"line":77,"column":43},"generated":{"line":1,"column":2032}},{"source":"../src/follow.js","name":"Math","original":{"line":77,"column":54},"generated":{"line":1,"column":2035}},{"source":"../src/follow.js","name":"abs","original":{"line":77,"column":59},"generated":{"line":1,"column":2040}},{"source":"../src/follow.js","name":"deltaX","original":{"line":77,"column":63},"generated":{"line":1,"column":2044}},{"source":"../src/follow.js","name":"toX","original":{"line":77,"column":73},"generated":{"line":1,"column":2047}},{"source":"../src/follow.js","name":"center","original":{"line":77,"column":79},"generated":{"line":1,"column":2049}},{"source":"../src/follow.js","name":"x","original":{"line":77,"column":86},"generated":{"line":1,"column":2051}},{"source":"../src/follow.js","name":"changeX","original":{"line":77,"column":90},"generated":{"line":1,"column":2053}},{"source":"../src/follow.js","name":"y","original":{"line":78,"column":30},"generated":{"line":1,"column":2055}},{"source":"../src/follow.js","name":"Math","original":{"line":78,"column":34},"generated":{"line":1,"column":2057}},{"source":"../src/follow.js","name":"abs","original":{"line":78,"column":39},"generated":{"line":1,"column":2062}},{"source":"../src/follow.js","name":"changeY","original":{"line":78,"column":43},"generated":{"line":1,"column":2066}},{"source":"../src/follow.js","name":"Math","original":{"line":78,"column":54},"generated":{"line":1,"column":2069}},{"source":"../src/follow.js","name":"abs","original":{"line":78,"column":59},"generated":{"line":1,"column":2074}},{"source":"../src/follow.js","name":"deltaY","original":{"line":78,"column":63},"generated":{"line":1,"column":2078}},{"source":"../src/follow.js","name":"toY","original":{"line":78,"column":73},"generated":{"line":1,"column":2081}},{"source":"../src/follow.js","name":"center","original":{"line":78,"column":79},"generated":{"line":1,"column":2083}},{"source":"../src/follow.js","name":"y","original":{"line":78,"column":86},"generated":{"line":1,"column":2085}},{"source":"../src/follow.js","name":"changeY","original":{"line":78,"column":90},"generated":{"line":1,"column":2087}},{"source":"../src/follow.js","name":null,"original":{"line":79,"column":24},"generated":{"line":1,"column":2089}},{"source":"../src/follow.js","name":"parent","original":{"line":79,"column":29},"generated":{"line":1,"column":2094}},{"source":"../src/follow.js","name":"moveCenter","original":{"line":79,"column":36},"generated":{"line":1,"column":2101}},{"source":"../src/follow.js","name":"x","original":{"line":79,"column":47},"generated":{"line":1,"column":2112}},{"source":"../src/follow.js","name":"y","original":{"line":79,"column":50},"generated":{"line":1,"column":2114}},{"source":"../src/follow.js","name":null,"original":{"line":80,"column":24},"generated":{"line":1,"column":2117}},{"source":"../src/follow.js","name":"parent","original":{"line":80,"column":29},"generated":{"line":1,"column":2122}},{"source":"../src/follow.js","name":"emit","original":{"line":80,"column":36},"generated":{"line":1,"column":2129}},{"source":"../src/follow.js","name":null,"original":{"line":80,"column":41},"generated":{"line":1,"column":2134}},{"source":"../src/follow.js","name":null,"original":{"line":80,"column":50},"generated":{"line":1,"column":2142}},{"source":"../src/follow.js","name":"viewport","original":{"line":80,"column":52},"generated":{"line":1,"column":2143}},{"source":"../src/follow.js","name":null,"original":{"line":80,"column":62},"generated":{"line":1,"column":2152}},{"source":"../src/follow.js","name":"parent","original":{"line":80,"column":67},"generated":{"line":1,"column":2157}},{"source":"../src/follow.js","name":"type","original":{"line":80,"column":75},"generated":{"line":1,"column":2164}},{"source":"../src/follow.js","name":null,"original":{"line":80,"column":81},"generated":{"line":1,"column":2169}},{"source":"../src/follow.js","name":null,"original":{"line":84,"column":16},"generated":{"line":1,"column":2185}},{"source":"../src/follow.js","name":null,"original":{"line":85,"column":20},"generated":{"line":1,"column":2186}},{"source":"../src/follow.js","name":"angle","original":{"line":85,"column":26},"generated":{"line":1,"column":2190}},{"source":"../src/follow.js","name":"Math","original":{"line":85,"column":34},"generated":{"line":1,"column":2192}},{"source":"../src/follow.js","name":"atan2","original":{"line":85,"column":39},"generated":{"line":1,"column":2197}},{"source":"../src/follow.js","name":"toY","original":{"line":85,"column":45},"generated":{"line":1,"column":2203}},{"source":"../src/follow.js","name":"center","original":{"line":85,"column":51},"generated":{"line":1,"column":2205}},{"source":"../src/follow.js","name":"y","original":{"line":85,"column":58},"generated":{"line":1,"column":2207}},{"source":"../src/follow.js","name":"toX","original":{"line":85,"column":61},"generated":{"line":1,"column":2209}},{"source":"../src/follow.js","name":"center","original":{"line":85,"column":67},"generated":{"line":1,"column":2211}},{"source":"../src/follow.js","name":"x","original":{"line":85,"column":74},"generated":{"line":1,"column":2213}},{"source":"../src/follow.js","name":"changeX","original":{"line":86,"column":26},"generated":{"line":1,"column":2216}},{"source":"../src/follow.js","name":"Math","original":{"line":86,"column":36},"generated":{"line":1,"column":2218}},{"source":"../src/follow.js","name":"cos","original":{"line":86,"column":41},"generated":{"line":1,"column":2223}},{"source":"../src/follow.js","name":"angle","original":{"line":86,"column":45},"generated":{"line":1,"column":2227}},{"source":"../src/follow.js","name":null,"original":{"line":86,"column":54},"generated":{"line":1,"column":2230}},{"source":"../src/follow.js","name":"speed","original":{"line":86,"column":59},"generated":{"line":1,"column":2235}},{"source":"../src/follow.js","name":"changeY","original":{"line":87,"column":26},"generated":{"line":1,"column":2241}},{"source":"../src/follow.js","name":"Math","original":{"line":87,"column":36},"generated":{"line":1,"column":2243}},{"source":"../src/follow.js","name":"sin","original":{"line":87,"column":41},"generated":{"line":1,"column":2248}},{"source":"../src/follow.js","name":"angle","original":{"line":87,"column":45},"generated":{"line":1,"column":2252}},{"source":"../src/follow.js","name":null,"original":{"line":87,"column":54},"generated":{"line":1,"column":2255}},{"source":"../src/follow.js","name":"speed","original":{"line":87,"column":59},"generated":{"line":1,"column":2260}},{"source":"../src/follow.js","name":"x","original":{"line":88,"column":26},"generated":{"line":1,"column":2266}},{"source":"../src/follow.js","name":"Math","original":{"line":88,"column":30},"generated":{"line":1,"column":2268}},{"source":"../src/follow.js","name":"abs","original":{"line":88,"column":35},"generated":{"line":1,"column":2273}},{"source":"../src/follow.js","name":"changeX","original":{"line":88,"column":39},"generated":{"line":1,"column":2277}},{"source":"../src/follow.js","name":"Math","original":{"line":88,"column":50},"generated":{"line":1,"column":2280}},{"source":"../src/follow.js","name":"abs","original":{"line":88,"column":55},"generated":{"line":1,"column":2285}},{"source":"../src/follow.js","name":"deltaX","original":{"line":88,"column":59},"generated":{"line":1,"column":2289}},{"source":"../src/follow.js","name":"toX","original":{"line":88,"column":69},"generated":{"line":1,"column":2292}},{"source":"../src/follow.js","name":"center","original":{"line":88,"column":75},"generated":{"line":1,"column":2294}},{"source":"../src/follow.js","name":"x","original":{"line":88,"column":82},"generated":{"line":1,"column":2296}},{"source":"../src/follow.js","name":"changeX","original":{"line":88,"column":86},"generated":{"line":1,"column":2298}},{"source":"../src/follow.js","name":"y","original":{"line":89,"column":26},"generated":{"line":1,"column":2300}},{"source":"../src/follow.js","name":"Math","original":{"line":89,"column":30},"generated":{"line":1,"column":2302}},{"source":"../src/follow.js","name":"abs","original":{"line":89,"column":35},"generated":{"line":1,"column":2307}},{"source":"../src/follow.js","name":"changeY","original":{"line":89,"column":39},"generated":{"line":1,"column":2311}},{"source":"../src/follow.js","name":"Math","original":{"line":89,"column":50},"generated":{"line":1,"column":2314}},{"source":"../src/follow.js","name":"abs","original":{"line":89,"column":55},"generated":{"line":1,"column":2319}},{"source":"../src/follow.js","name":"deltaY","original":{"line":89,"column":59},"generated":{"line":1,"column":2323}},{"source":"../src/follow.js","name":"toY","original":{"line":89,"column":69},"generated":{"line":1,"column":2326}},{"source":"../src/follow.js","name":"center","original":{"line":89,"column":75},"generated":{"line":1,"column":2328}},{"source":"../src/follow.js","name":"y","original":{"line":89,"column":82},"generated":{"line":1,"column":2330}},{"source":"../src/follow.js","name":"changeY","original":{"line":89,"column":86},"generated":{"line":1,"column":2332}},{"source":"../src/follow.js","name":null,"original":{"line":90,"column":20},"generated":{"line":1,"column":2334}},{"source":"../src/follow.js","name":"parent","original":{"line":90,"column":25},"generated":{"line":1,"column":2339}},{"source":"../src/follow.js","name":"moveCenter","original":{"line":90,"column":32},"generated":{"line":1,"column":2346}},{"source":"../src/follow.js","name":"x","original":{"line":90,"column":43},"generated":{"line":1,"column":2357}},{"source":"../src/follow.js","name":"y","original":{"line":90,"column":46},"generated":{"line":1,"column":2359}},{"source":"../src/follow.js","name":null,"original":{"line":91,"column":20},"generated":{"line":1,"column":2362}},{"source":"../src/follow.js","name":"parent","original":{"line":91,"column":25},"generated":{"line":1,"column":2367}},{"source":"../src/follow.js","name":"emit","original":{"line":91,"column":32},"generated":{"line":1,"column":2374}},{"source":"../src/follow.js","name":null,"original":{"line":91,"column":37},"generated":{"line":1,"column":2379}},{"source":"../src/follow.js","name":null,"original":{"line":91,"column":46},"generated":{"line":1,"column":2387}},{"source":"../src/follow.js","name":"viewport","original":{"line":91,"column":48},"generated":{"line":1,"column":2388}},{"source":"../src/follow.js","name":null,"original":{"line":91,"column":58},"generated":{"line":1,"column":2397}},{"source":"../src/follow.js","name":"parent","original":{"line":91,"column":63},"generated":{"line":1,"column":2402}},{"source":"../src/follow.js","name":"type","original":{"line":91,"column":71},"generated":{"line":1,"column":2409}},{"source":"../src/follow.js","name":null,"original":{"line":91,"column":77},"generated":{"line":1,"column":2414}},{"source":"../src/follow.js","name":null,"original":{"line":96,"column":16},"generated":{"line":1,"column":2430}},{"source":"../src/follow.js","name":"parent","original":{"line":96,"column":21},"generated":{"line":1,"column":2435}},{"source":"../src/follow.js","name":"moveCenter","original":{"line":96,"column":28},"generated":{"line":1,"column":2442}},{"source":"../src/follow.js","name":"toX","original":{"line":96,"column":39},"generated":{"line":1,"column":2453}},{"source":"../src/follow.js","name":"toY","original":{"line":96,"column":44},"generated":{"line":1,"column":2455}},{"source":"../src/follow.js","name":null,"original":{"line":97,"column":16},"generated":{"line":1,"column":2458}},{"source":"../src/follow.js","name":"parent","original":{"line":97,"column":21},"generated":{"line":1,"column":2463}},{"source":"../src/follow.js","name":"emit","original":{"line":97,"column":28},"generated":{"line":1,"column":2470}},{"source":"../src/follow.js","name":null,"original":{"line":97,"column":33},"generated":{"line":1,"column":2475}},{"source":"../src/follow.js","name":null,"original":{"line":97,"column":42},"generated":{"line":1,"column":2483}},{"source":"../src/follow.js","name":"viewport","original":{"line":97,"column":44},"generated":{"line":1,"column":2484}},{"source":"../src/follow.js","name":null,"original":{"line":97,"column":54},"generated":{"line":1,"column":2493}},{"source":"../src/follow.js","name":"parent","original":{"line":97,"column":59},"generated":{"line":1,"column":2498}},{"source":"../src/follow.js","name":"type","original":{"line":97,"column":67},"generated":{"line":1,"column":2505}},{"source":"../src/follow.js","name":null,"original":{"line":97,"column":73},"generated":{"line":1,"column":2510}},{"source":"../src/follow.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":2526}},{"source":"../src/follow.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":2528}}],"sources":{"../src/follow.js":"const Plugin = require('./plugin')\r\n\r\nmodule.exports = class Follow extends Plugin\r\n{\r\n    /**\r\n     * @private\r\n     * @param {Viewport} parent\r\n     * @param {PIXI.DisplayObject} target to follow (object must include {x: x-coordinate, y: y-coordinate})\r\n     * @param {object} [options]\r\n     * @param {number} [options.speed=0] to follow in pixels/frame (0=teleport to location)\r\n     * @param {number} [options.acceleration] set acceleration to accelerate and decelerate at this rate; speed cannot be 0 to use acceleration\r\n     * @param {number} [options.radius] radius (in world coordinates) of center circle where movement is allowed without moving the viewport\r\n     */\r\n    constructor(parent, target, options)\r\n    {\r\n        super(parent)\r\n        options = options || {}\r\n        this.speed = options.speed || 0\r\n        this.acceleration = options.acceleration || 0\r\n        this.velocity = { x: 0, y: 0 }\r\n        this.target = target\r\n        this.radius = options.radius\r\n    }\r\n\r\n    update(elapsed)\r\n    {\r\n        if (this.paused)\r\n        {\r\n            return\r\n        }\r\n\r\n        const center = this.parent.center\r\n        let toX = this.target.x, toY = this.target.y\r\n        if (this.radius)\r\n        {\r\n            const distance = Math.sqrt(Math.pow(this.target.y - center.y, 2) + Math.pow(this.target.x - center.x, 2))\r\n            if (distance > this.radius)\r\n            {\r\n                const angle = Math.atan2(this.target.y - center.y, this.target.x - center.x)\r\n                toX = this.target.x - Math.cos(angle) * this.radius\r\n                toY = this.target.y - Math.sin(angle) * this.radius\r\n            }\r\n            else\r\n            {\r\n                return\r\n            }\r\n        }\r\n        const deltaX = toX - center.x\r\n        const deltaY = toY - center.y\r\n        if (deltaX || deltaY)\r\n        {\r\n            if (this.speed)\r\n            {\r\n                if (this.acceleration)\r\n                {\r\n                    const angle = Math.atan2(toY - center.y, toX - center.x)\r\n                    const distance = Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2))\r\n                    if (distance)\r\n                    {\r\n                        const decelerationDistance = (Math.pow(this.velocity.x, 2) + Math.pow(this.velocity.y, 2)) / (2 * this.acceleration)\r\n                        if (distance > decelerationDistance)\r\n                        {\r\n                            this.velocity = {\r\n                                x: Math.min(this.velocity.x + this.acceleration * elapsed, this.speed),\r\n                                y: Math.min(this.velocity.y + this.acceleration * elapsed, this.speed)\r\n                            }\r\n                        }\r\n                        else\r\n                        {\r\n                            this.velocity = {\r\n                                x: Math.max(this.velocity.x - this.acceleration * this.speed, 0),\r\n                                y: Math.max(this.velocity.y - this.acceleration * this.speed, 0)\r\n                            }\r\n                        }\r\n                        const changeX = Math.cos(angle) * this.velocity.x\r\n                        const changeY = Math.sin(angle) * this.velocity.y\r\n                        const x = Math.abs(changeX) > Math.abs(deltaX) ? toX : center.x + changeX\r\n                        const y = Math.abs(changeY) > Math.abs(deltaY) ? toY : center.y + changeY\r\n                        this.parent.moveCenter(x, y)\r\n                        this.parent.emit('moved', { viewport: this.parent, type: 'follow' })\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    const angle = Math.atan2(toY - center.y, toX - center.x)\r\n                    const changeX = Math.cos(angle) * this.speed\r\n                    const changeY = Math.sin(angle) * this.speed\r\n                    const x = Math.abs(changeX) > Math.abs(deltaX) ? toX : center.x + changeX\r\n                    const y = Math.abs(changeY) > Math.abs(deltaY) ? toY : center.y + changeY\r\n                    this.parent.moveCenter(x, y)\r\n                    this.parent.emit('moved', { viewport: this.parent, type: 'follow' })\r\n                }\r\n            }\r\n            else\r\n            {\r\n                this.parent.moveCenter(toX, toY)\r\n                this.parent.emit('moved', { viewport: this.parent, type: 'follow' })\r\n            }\r\n        }\r\n    }\r\n}"},"lineCount":null}},"error":null,"hash":"8aeed9fe5baab467792d333c95628630","cacheData":{"env":{}}}